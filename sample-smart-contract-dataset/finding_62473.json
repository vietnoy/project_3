{
    "id": 62473,
    "kind": "MARKDOWN",
    "auditfirm_id": 16,
    "impact": "MEDIUM",
    "finders_count": 1,
    "protocol_id": 3413,
    "title": "[M-03] Single-prediction design raises gas costs for high-volume users",
    "content": "\n_Resolved_\n\n## Severity\n\n**Impact:** Medium\n\n**Likelihood:** High\n\n## Description\n\nThe current predict function in the MemePredictionMarket contract only supports a fixed single prediction per transaction. Each user is charged exactly 5 USDC (PREDICTION_FEE) for every prediction they make, with no way to scale the amount in a single call.\n\nThis creates a bottleneck for users who want to place large predictions (e.g., $1,000 or $10,000). These users must call the predict function multiple times, each transferring 5 USDC, resulting in repetitive token transfer operations and expensive gas fees, especially on high-congestion chains like Ethereum Mainnet. When gas prices spike, each call may cost over $5 in gas, making the user experience inefficient and economically unreasonable.\n\n## Recommendations\n\nAllow users to place multiple predictions in a single transaction \n\n```solidity\nfunction predict(uint256 marketId, bool isBullish, uint256 amount) external roundActive(marketId) {\n\n// Total prediction cost\nuint256 totalFee = PREDICTION_FEE * amount;\n\n// Transfer total USDC fee from user to contract\nrequire(\n    IERC20(markets[marketId].token).transferFrom(\n        msg.sender,\n        address(this),\n        totalFee\n    ),\n    \"Payment failed\"\n);\n\n// Store prediction\npredictions[marketId][roundId].push(Prediction({\n    user: msg.sender,\n    isBullish: isBullish,\n    amount: totalFee\n}));\n```\n\n\n\n",
    "summary": "\nThe current predict function in the MemePredictionMarket contract only allows for one prediction per transaction, charging each user a fixed fee of 5 USDC. This causes issues for users who want to make large predictions, as they must make multiple calls and pay expensive gas fees. It is recommended to update the function to allow for multiple predictions in a single transaction.",
    "report_date": "2025-09-04T00:00:00.000Z",
    "contest_prize_txt": "",
    "contest_link": "",
    "sponsor_name": null,
    "sponsor_link": "",
    "quality_score": 0,
    "general_score": 0,
    "source_link": "https://github.com/pashov/audits/blob/master/team/md/MCP-security-review_2025-08-07.md",
    "github_link": "",
    "pdf_link": "",
    "pdf_page_from": 0,
    "contest_id": "",
    "slug": "m-03-single-prediction-design-raises-gas-costs-for-high-volume-users-pashov-audit-group-none-mcp_2025-08-07-markdown",
    "firm_name": "Pashov Audit Group",
    "firm_logo_square": "Pashov_square.png",
    "protocol_name": "MCP_2025-08-07",
    "bookmarked": false,
    "read": false,
    "issues_issue_finders": [
        {
            "wardens_warden": {
                "handle": "Pashov Audit Group"
            }
        }
    ],
    "auditfirms_auditfirm": {
        "name": "Pashov Audit Group",
        "logo_square": "Pashov_square.png"
    },
    "protocols_protocol": {
        "name": "MCP_2025-08-07",
        "protocols_protocolcategoryscore": [
            {
                "protocols_protocolcategory": {
                    "title": "NFT Lending"
                },
                "score": 0.5
            },
            {
                "protocols_protocolcategory": {
                    "title": "RWA"
                },
                "score": 0.5
            },
            {
                "protocols_protocolcategory": {
                    "title": "RWA Lending"
                },
                "score": 0.5
            },
            {
                "protocols_protocolcategory": {
                    "title": "Staking Pool"
                },
                "score": 0.5
            }
        ]
    },
    "issues_issuetagscore": []
}