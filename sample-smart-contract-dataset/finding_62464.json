{
    "id": 62464,
    "kind": "MARKDOWN",
    "auditfirm_id": 16,
    "impact": "LOW",
    "finders_count": 1,
    "protocol_id": 3411,
    "title": "[L-08] Updating `attestation_window` may cause missed rewards",
    "content": "\n_Acknowledged_\n\nWhen the `set_attestation_window` function is called to modify `attestation_window`, the change is applied directly to the current epoch. \n```rust\nfn set_attestation_window(ref self: ContractState, attestation_window: u16) {\n    self.roles.only_app_governor();\n    assert!(\n        attestation_window >= MIN_ATTESTATION_WINDOW, \"{}\", Error::ATTEST_WINDOW_TOO_SMALL,\n    );\n    let old_attestation_window = self.attestation_window.read();\n    self.attestation_window.write(attestation_window);\n    self\n        .emit(\n            Events::AttestationWindowChanged {\n                old_attestation_window, new_attestation_window: attestation_window,\n            },\n        );\n}\n```\nSince `attestation_window` is involved in calculating `target_attestation_block` and the attestation window, modifying it may result in the current block being within a staker’s attestation window before the change, but after the modification, the current block has already passed that staker’s attestation window. If the staker did not submit an attestation before the change, they would miss rewards for that epoch.\n\n\n**Recommendations**\n\nIt is recommended that adjustments to `attestation_window` via `set_attestation_window` be applied in the next epoch.\n\n\n",
    "summary": "",
    "report_date": "2025-09-03T00:00:00.000Z",
    "contest_prize_txt": "",
    "contest_link": "",
    "sponsor_name": null,
    "sponsor_link": "",
    "quality_score": 0,
    "general_score": 0,
    "source_link": "https://github.com/pashov/audits/blob/master/team/md/Starknet-security-review_2025-07-31.md",
    "github_link": "",
    "pdf_link": "",
    "pdf_page_from": 0,
    "contest_id": "",
    "slug": "l-08-updating-attestation_window-may-cause-missed-rewards-pashov-audit-group-none-starknet_2025-07-31-markdown",
    "firm_name": "Pashov Audit Group",
    "firm_logo_square": "Pashov_square.png",
    "protocol_name": "Starknet_2025-07-31",
    "bookmarked": false,
    "read": false,
    "issues_issue_finders": [
        {
            "wardens_warden": {
                "handle": "Pashov Audit Group"
            }
        }
    ],
    "auditfirms_auditfirm": {
        "name": "Pashov Audit Group",
        "logo_square": "Pashov_square.png"
    },
    "protocols_protocol": {
        "name": "Starknet_2025-07-31",
        "protocols_protocolcategoryscore": []
    },
    "issues_issuetagscore": []
}