{
    "id": 62292,
    "kind": "PDF",
    "auditfirm_id": 6,
    "impact": "MEDIUM",
    "finders_count": 3,
    "protocol_id": 3396,
    "title": "Reserves can be re-added",
    "content": "## Medium Risk Report\n\n**Severity:** Medium Risk  \n**Context:** \n- LendingPool.sol#L777-L791  \n- MiniPool.sol#L708-L721  \n\n**Description:**  \nIf the reserve for that specific asset and reserveType has already been added, revert instead. If we don't, some of the important parameters can be rewritten, and also the liquidity and borrow indices would be reset to one RAY.\n\n**Recommendation:**  \nIt would be best to revert when `reserveAlreadyAdded` is true.\n\n**Astera:** Fixed in commit 4fb61a93.  \n**Spearbit:** Fix verified.",
    "summary": "\nThis bug report is about a medium-risk issue in the LendingPool and MiniPool smart contracts. The problem occurs when a reserve for a specific asset and reserve type has already been added. Instead of reverting, the contracts continue and important parameters can be overwritten, causing the liquidity and borrow indices to be reset. The recommendation is to revert when `reserveAlreadyAdded` is true. The bug has been fixed in a recent commit and verified by the team.",
    "report_date": "2025-08-29T00:00:00.000Z",
    "contest_prize_txt": "",
    "contest_link": "https://github.com/spearbit/portfolio/blob/master/pdfs/Astera-Spearbit-Security-Review-December-2024.pdf",
    "sponsor_name": null,
    "sponsor_link": "",
    "quality_score": 0,
    "general_score": 0,
    "source_link": "https://github.com/spearbit/portfolio/blob/master/pdfs/Astera-Spearbit-Security-Review-December-2024.pdf",
    "github_link": "",
    "pdf_link": "https://solodit-bucket.s3.amazonaws.com/storage/reports/spearbit/Astera-Spearbit-Security-Review-December-2024.pdf",
    "pdf_page_from": 27,
    "contest_id": "",
    "slug": "reserves-can-be-re-added-spearbit-none-astera-pdf",
    "firm_name": "Spearbit",
    "firm_logo_square": "spearbit_square.png",
    "protocol_name": "Astera",
    "bookmarked": false,
    "read": false,
    "issues_issue_finders": [
        {
            "wardens_warden": {
                "handle": "Saw-mon and Natalie"
            }
        },
        {
            "wardens_warden": {
                "handle": "Cergyk"
            }
        },
        {
            "wardens_warden": {
                "handle": "Jonatas Martins"
            }
        }
    ],
    "auditfirms_auditfirm": {
        "name": "Spearbit",
        "logo_square": "spearbit_square.png"
    },
    "protocols_protocol": {
        "name": "Astera",
        "protocols_protocolcategoryscore": []
    },
    "issues_issuetagscore": []
}