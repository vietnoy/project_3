{
    "id": 62697,
    "kind": "MARKDOWN",
    "auditfirm_id": 23,
    "impact": "MEDIUM",
    "finders_count": 1,
    "protocol_id": 3435,
    "title": "Excessively High Borrow Rate Processed as Zero",
    "content": "##### Description\nThis issue has been identified within the `accrueInterest` function, which checks whether the computed borrow rate exceeds `borrowRateMaxMantissa`. If it does, the function updates `accrualBlockTimestamp` and returns early:\n\n```solidity\nif (IInterestRateModel(address(this)).getBorrowRate(\n    getCash(), snapshot.totalBorrow, snapshot.totalReserve\n) > $.borrowRateMaxMantissa) {\n    $.accrualBlockTimestamp = currentBlockTimestamp;\n    return;\n}\n```\n\nThis effectively treats any excessively high borrow rate as zero interest accrual without notifying users or developers. Consequently, if the interest rate model malfunctions or market conditions become abnormal, the protocol silently applies no interest instead of alerting stakeholders. Additionally, `borrowRateMaxMantissa` is only set in the constructor and may not align with changing interest rate models over time.\n\nThe issue is classified as **medium** severity because it leads to inaccurate financial calculations and hinders prompt detection of anomalous or erroneous borrow rate conditions.\n\n##### Recommendation\nWe recommend reverting the transaction if the computed borrow rate exceeds the maximum threshold, prompting immediate investigation rather than silently ignoring it. For example:\n\n```solidity!\nif (IInterestRateModel(address(this)).getBorrowRate(\n    getCash(), snapshot.totalBorrow, snapshot.totalReserve\n) > $.borrowRateMaxMantissa) {\n    revert PTokenError.ExcessiveBorrowRate();\n}\n```\n\nAdditionally, consider making `borrowRateMaxMantissa` configurable by an authorized administrator so that it remains aligned with the current interest rate model.\n",
    "summary": "\nThis bug report talks about an issue in the `accrueInterest` function, which checks for a maximum borrow rate. If the computed rate exceeds this maximum, the function updates a timestamp and returns early, treating the rate as zero without notifying anyone. This can lead to incorrect financial calculations and make it difficult to detect abnormal rates. The recommendation is to revert the transaction and prompt for investigation instead of silently ignoring the issue. It is also suggested to make the maximum rate configurable to stay aligned with the current interest rate model.",
    "report_date": "2025-09-18T00:00:00.000Z",
    "contest_prize_txt": "",
    "contest_link": "",
    "sponsor_name": null,
    "sponsor_link": "",
    "quality_score": 0,
    "general_score": 0,
    "source_link": "https://github.com/mixbytes/audits_public/blob/master/NUTS%20Finance/Pike/README.md#3-excessively-high-borrow-rate-processed-as-zero",
    "github_link": "",
    "pdf_link": "",
    "pdf_page_from": 0,
    "contest_id": "",
    "slug": "excessively-high-borrow-rate-processed-as-zero-mixbytes-none-nuts-finance-markdown",
    "firm_name": "MixBytes",
    "firm_logo_square": "mixbytes_square.png",
    "protocol_name": "NUTS Finance",
    "bookmarked": false,
    "read": false,
    "issues_issue_finders": [
        {
            "wardens_warden": {
                "handle": "MixBytes"
            }
        }
    ],
    "auditfirms_auditfirm": {
        "name": "MixBytes",
        "logo_square": "mixbytes_square.png"
    },
    "protocols_protocol": {
        "name": "NUTS Finance",
        "protocols_protocolcategoryscore": []
    },
    "issues_issuetagscore": []
}