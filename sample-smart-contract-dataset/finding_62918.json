{
    "id": 62918,
    "kind": "PDF",
    "auditfirm_id": 6,
    "impact": "MEDIUM",
    "finders_count": 4,
    "protocol_id": 3462,
    "title": "interestPerSecond limits minimum rate that can be set and causes significant deviation for low",
    "content": "## Precision Tokens\n\n**Severity:** Medium Risk  \n\n**Context:** (No context files were provided by the reviewer)  \n\n**Description:**  \nThe ManualVic contract's interestPerSecond implementation suffers from precision limitations that make it impractical for real-world usage, particularly for low interest rates and tokens with varying decimal precision. The contract returns raw interest amounts without any decimal scaling in the `interestPerSecond()` function. When consumed by the vault contract using the calculation `uint256 interest = interestPerSecond * elapsed`, this creates precision constraints.\n\n**For GUSD (2 decimals):**\n- The minimum non-zero `interestPerSecond = 1` creates: \n  - Annual interest: `1 * 31,536,000 = 31,536,000` units = 315,360 GUSD. \n- Minimum achievable APR is impossibly high regardless of AUM.\n\n**For USDC (6 decimals), 100k AUM with 4% target APR, the minimum non-zero `interestPerSecond = 1` creates:**\n- Target interest per year: `4,000 = 4000e6`.\n- Required `interestPerSecond`: `4000e6 / 31536000 = 126.84`.\n- Settable value: `126` (truncated).\n- Actual APR: `(126 * 31,536,000) / 4,000,000,000 = 3.9853%`.\n- Deviation: ~15 bps.\n\nThere might be cases where the notional interest rate might need to be very low (think 0.2 - 0.5%) ranges where the majority of the rewards are provided via alternate tokens. Given VIC needs to be general and be functional for a wide range of use cases, this not just limits ManualVic but any implementation since vault v2 considers interestPerSecond returned raw so it can't be switched with a new VIC implementation in the future to fix this particular issue. Also, other on-chain integrations (except vault v2) using VIC as a reference might suffer from the same issue.\n\n**Recommendation:**\n- Since precision ultimately needs to be adjusted back while saving totalAssets, try experimenting with lower precision such as BPS (10,000) instead of WAD so that rounding is minimal.\n- Store numerator and denominator separately.\n\n**Morpho:** Acknowledged. NatSpec comments have been added in PR 390.  \n**Spearbit:** Acknowledged.",
    "summary": "",
    "report_date": "2025-10-13T00:00:00.000Z",
    "contest_prize_txt": "",
    "contest_link": "https://github.com/spearbit/portfolio/blob/master/pdfs/Morpho-Vaults-v2-Spearbit-Security-Review-May-2025.pdf",
    "sponsor_name": null,
    "sponsor_link": "",
    "quality_score": 0,
    "general_score": 0,
    "source_link": "https://github.com/spearbit/portfolio/blob/master/pdfs/Morpho-Vaults-v2-Spearbit-Security-Review-May-2025.pdf",
    "github_link": "",
    "pdf_link": "https://solodit-bucket.s3.amazonaws.com/storage/reports/spearbit/Morpho-Vaults-v2-Spearbit-Security-Review-May-2025.pdf",
    "pdf_page_from": 7,
    "contest_id": "",
    "slug": "interestpersecond-limits-minimum-rate-that-can-be-set-and-causes-significant-deviation-for-low-spearbit-none-morpho-vaults-v2-pdf",
    "firm_name": "Spearbit",
    "firm_logo_square": "spearbit_square.png",
    "protocol_name": "Morpho Vaults v2",
    "bookmarked": false,
    "read": false,
    "issues_issue_finders": [
        {
            "wardens_warden": {
                "handle": "Saw-mon and Natalie"
            }
        },
        {
            "wardens_warden": {
                "handle": "Om Parikh"
            }
        },
        {
            "wardens_warden": {
                "handle": "Jonatas Martins"
            }
        },
        {
            "wardens_warden": {
                "handle": "Emmanuele Ricci"
            }
        }
    ],
    "auditfirms_auditfirm": {
        "name": "Spearbit",
        "logo_square": "spearbit_square.png"
    },
    "protocols_protocol": {
        "name": "Morpho Vaults v2",
        "protocols_protocolcategoryscore": []
    },
    "issues_issuetagscore": []
}