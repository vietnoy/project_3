{
    "id": 62516,
    "kind": "GIT",
    "auditfirm_id": 3,
    "impact": "MEDIUM",
    "finders_count": 12,
    "protocol_id": 3104,
    "title": "M-24: Convex cannot be configured for the Yield Strategy vault in Arbitrum even though Convex is available in Arbitrum",
    "content": "\nSource: https://github.com/sherlock-audit/2025-06-notional-exponent-judging/issues/775 \n\n## Found by \n0xRstStn, 0xShoonya, Atharv, Ledger\\_Patrol, anchabadze, h2134, holtzzx, jasonxiale, kangaroo, lodelux, theweb3mechanic, xiaoming90\n\n### Summary\n\n-\n\n### Root Cause\n\n-\n\n### Internal Pre-conditions\n\n-\n\n### External Pre-conditions\n\n-\n\n### Attack Path\n\nPer the contest's README, Base and Arbitrum are in-scope for this contest. Sherlock's Judge has further confirmed this in the Discord channel.\n\n> Q: On what chains are the smart contracts going to be deployed?\n> Ethereum, in the future we will consider Base or Arbitrum\n\nHowever, it was observed that Convex cannot be configured for the Yield Strategy vault in Arbitum even though Convex is available in Arbitrum.\n\nIn Line 137, the `block.chainid == CHAIN_ID_MAINNET` condition will always be false in Arbitrum and thus the `convexBooster` can never be configured.\n\nhttps://github.com/sherlock-audit/2025-06-notional-exponent/blob/main/notional-v4/src/single-sided-lp/CurveConvex2Token.sol#L137\n\n```solidity\nFile: CurveConvex2Token.sol\n115:     constructor(\n116:         address _token1,\n117:         address _token2,\n118:         address _asset,\n119:         uint8 _primaryIndex,\n120:         DeploymentParams memory params\n121:     ) {\n122:         TOKEN_1 = _token1;\n123:         TOKEN_2 = _token2;\n124:         ASSET = _asset;\n125:         _PRIMARY_INDEX = _primaryIndex;\n126: \n127:         CURVE_POOL = params.pool;\n128:         CURVE_GAUGE = params.gauge;\n129:         CURVE_POOL_TOKEN = ERC20(params.poolToken);\n130:         CURVE_INTERFACE = params.curveInterface;\n131: \n132:         // If the convex reward pool is set then get the booster and pool id, if not then\n133:         // we will stake on the curve gauge directly.\n134:         CONVEX_REWARD_POOL = params.convexRewardPool;\n135:         address convexBooster;\n136:         uint256 poolId;\n137:         if (block.chainid == CHAIN_ID_MAINNET && CONVEX_REWARD_POOL != address(0)) {\n138:             convexBooster = IConvexRewardPool(CONVEX_REWARD_POOL).operator();\n139:             poolId = IConvexRewardPool(CONVEX_REWARD_POOL).pid();\n140:         }\n141: \n142:         CONVEX_POOL_ID = poolId;\n143:         CONVEX_BOOSTER = convexBooster;\n144:     }\n```\n\n### Impact\n\nMedium. Core functionality is broken.\n\n\n### PoC\n\n_No response_\n\n### Mitigation\n\n_No response_\n\n",
    "summary": "\nThis bug report is about a problem found in a smart contract called CurveConvex2Token. The problem is that the contract cannot be configured for a specific vault called the Yield Strategy vault when it is used on a platform called Arbitrum. This is because of a condition in the code that is always false when used on Arbitrum. This means that the contract cannot work properly on Arbitrum and this affects its core functionality. The report was made by a group of people and no solution has been provided yet.",
    "report_date": "2025-07-18T15:00:00.000Z",
    "contest_prize_txt": "75500 USDC",
    "contest_link": "https://app.sherlock.xyz/audits/contests/1001",
    "sponsor_name": "",
    "sponsor_link": "",
    "quality_score": 0,
    "general_score": 0,
    "source_link": "",
    "github_link": "https://github.com/sherlock-audit/2025-06-notional-exponent-judging/issues/775",
    "pdf_link": "",
    "pdf_page_from": 0,
    "contest_id": "1001",
    "slug": "m-24-convex-cannot-be-configured-for-the-yield-strategy-vault-in-arbitrum-even-though-convex-is-available-in-arbitrum-sherlock-notional-exponent-git",
    "firm_name": "Sherlock",
    "firm_logo_square": "sherlock_square.png",
    "protocol_name": "Notional Exponent",
    "bookmarked": false,
    "read": false,
    "issues_issue_finders": [
        {
            "wardens_warden": {
                "handle": "0xShoonya"
            }
        },
        {
            "wardens_warden": {
                "handle": "anchabadze"
            }
        },
        {
            "wardens_warden": {
                "handle": "Ledger\\_Patrol"
            }
        },
        {
            "wardens_warden": {
                "handle": "lodelux"
            }
        },
        {
            "wardens_warden": {
                "handle": "jasonxiale"
            }
        },
        {
            "wardens_warden": {
                "handle": "xiaoming90"
            }
        },
        {
            "wardens_warden": {
                "handle": "0xRstStn"
            }
        },
        {
            "wardens_warden": {
                "handle": "theweb3mechanic"
            }
        },
        {
            "wardens_warden": {
                "handle": "holtzzx"
            }
        },
        {
            "wardens_warden": {
                "handle": "h2134"
            }
        },
        {
            "wardens_warden": {
                "handle": "Atharv"
            }
        },
        {
            "wardens_warden": {
                "handle": "kangaroo"
            }
        }
    ],
    "auditfirms_auditfirm": {
        "name": "Sherlock",
        "logo_square": "sherlock_square.png"
    },
    "protocols_protocol": {
        "name": "Notional Exponent",
        "protocols_protocolcategoryscore": []
    },
    "issues_issuetagscore": []
}