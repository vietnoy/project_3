{
    "id": 62468,
    "kind": "MARKDOWN",
    "auditfirm_id": 23,
    "impact": "LOW",
    "finders_count": 1,
    "protocol_id": 1179,
    "title": "Balance validation should use delta instead of absolute balance",
    "content": "##### Description\nIn the [`callExecutor()`](https://github.com/BarterLab/argon/blob/f653d58132124854db42d2bd93d0c6b91da2c398/contracts/InchFusionBarterResolver.sol#L93-L123) function, the balance validation uses the absolute balance of the contract (`IERC20(takerAsset.get()).balanceOf(address(this))`) instead of calculating the delta between the balance before and after the swap execution.\n\nThis approach assumes that the contract starts with zero balance of the target token, which may not always be true. If the contract has any pre-existing balance of the target token, the validation will incorrectly pass even if the swap didn't produce the expected amount.\n<br/>\n##### Recommendation\nWe recommend implementing balance validation using delta calculation (i. e. `balanceAfter - balanceBefore`).\n\n---\n",
    "summary": "",
    "report_date": "2025-09-05T00:00:00.000Z",
    "contest_prize_txt": "",
    "contest_link": "",
    "sponsor_name": null,
    "sponsor_link": "",
    "quality_score": 0,
    "general_score": 0,
    "source_link": "https://github.com/mixbytes/audits_public/blob/master/Barter%20DAO/InchFusionBarterResolver/README.md#2-balance-validation-should-use-delta-instead-of-absolute-balance",
    "github_link": "",
    "pdf_link": "",
    "pdf_page_from": 0,
    "contest_id": "",
    "slug": "balance-validation-should-use-delta-instead-of-absolute-balance-mixbytes-none-barter-dao-markdown",
    "firm_name": "MixBytes",
    "firm_logo_square": "mixbytes_square.png",
    "protocol_name": "Barter DAO",
    "bookmarked": false,
    "read": false,
    "issues_issue_finders": [
        {
            "wardens_warden": {
                "handle": "MixBytes"
            }
        }
    ],
    "auditfirms_auditfirm": {
        "name": "MixBytes",
        "logo_square": "mixbytes_square.png"
    },
    "protocols_protocol": {
        "name": "Barter DAO",
        "protocols_protocolcategoryscore": []
    },
    "issues_issuetagscore": []
}